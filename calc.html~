<html>

<head>
    <title>ROI Calculator</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="calc.css" type="text/css" charset="utf-8">
</script>   
</head>

<body>

<h1>ROI Calculator</h1>

<p>Please fill in the fields with the "*" and then click the button for the calculation</p>

<form>
<p>*  <input type="text" name="trucks" id="trucks" class="roiField" />
Number of Vehicles</p>
<p>*  <input type="text" name="salary" id="salary" class="roiField" />
Hourly Driver Salary</p>
<p>*  <input type="text" name="cpm" id="cpm" class="roiField" />
Cost per Mile</p>
<p>*  <input type="text" name="currmiles" id="currmiles" class="roiField" />
Total Miles Driven</p>
<p>*  <input type="text" name="estmilessaved" id="estmilessaved" class="roiField" />
Estimated Mileage Reduction (in percent format)</p>

<button id="roi-calc">Calculate Savings</button>
<br />

<h2>Daily Savings</h2>

<p>  <input type="text" name="milessaved" id="milessaved" class="roiAnswer" />
Daily Miles Saved</p>
<p>  <input type="text" name="hourssaved" id="hourssaved" class="roiAnswer" />
Daily Hours Saved</p>
<p>  <input type="text" name="dailywages" id="dailywages" class="roiAnswer" />
Savings in Wages Daily</p>
<p>  <input type="text" name="vehcosts" id="vehcosts" class="roiAnswer" />
Savings in Vehicle Costs Daily</p>

<h2>Long Term Savings</h2>

<p>  <input type="text" name="monthlysavings" id="monthlysavings" class="roiAnswer" />
Total Monthly Savings</p>
<p>  <input type="text" name="annualsavings" id="annualsavings" class="roiAnswer" />
Total Annual Savings</p>

</form>


<script type="text/javascript">
$(function() {
    $("#roi-calc").click(function(e) {
        e.preventDefault();

        var trucks = parseInt($("#trucks").val());
        var salary = parseFloat($("#salary").val());
        var cpm = parseFloat($("#cpm").val());
        var miles = parseInt($("#currmiles").val());
        var reduction = parseInt($("#estmilessaved").val())/100;

        var milessavings = trucks * (miles * reduction);
	var hourssavings = 1 / (60 / milessavings);
        var dailysavings = salary * hourssavings;
        var vehiclesavings = cpm * milessavings;
        var ttlmonthlysavings = 20 * (dailysavings + vehiclesavings);
        var ttlannualsavings = 12 * ttlmonthlysavings;

        if(!isNaN(milessavings)) {
            $("#milessaved").val(milessavings.toFixed(2));
            $("#hourssaved").val(hourssavings.toFixed(2));
            $("#dailywages").val(dailysavings.toFixed(2));
            $("#vehcosts").val(vehiclesavings.toFixed(2));
            $("#monthlysavings").val(ttlmonthlysavings.toFixed(2));
            $("#annualsavings").val(ttlannualsavings.toFixed(2));
        } else {
            $("#milessaved").val('There was an error');
        }
    });
});
</script>

</body>
</html>
